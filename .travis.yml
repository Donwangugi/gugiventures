language: c
before_install:
  - sudo apt-get update
  - sudo apt-get install imagemagick
before_script: bash -ex expose.sh
script:
  - cd _mirage
  - bash -ex travis.sh
sudo: required
env:
  matrix:
  - MIRAGE_BACKEND=xen DEPLOY=0
  - MIRAGE_BACKEND=unix
  - DEPLOY=1
  global:
  - secure: rrMcTGwrQCy0/RPiWQtk5om1AuhSYrxEVbqZ49w9lBNaubdTHbcFdL70wiWTF4eJJIfDbSYzRp0rvnKIkWx51dULX69sbAL9fbpzOqAx77fAILA7ieL4Fjob5DWYxw7Stp4hQ664J3qUt1xhSfVORGGfvfCpmVEnvORMTd3VXNPfhX7lF1XbEnckTbDaK4h6eWYxhE6pVTmBKXqNr5i3oXNQMtad7DGkDpBFcuwFB7+drjIGUXTOVwYq5rTRwtOJ0rB+J2sdD9+Upqz7R42twemEzcQLR9Ro3SNgdGHhQIdeY0jw5I6pHRNOpf3d/aMSbF5Ncsjrf8Zr4cOsyR01YFU6S9PSs6sYyKzBsPo6vy17G422n2pL7igoDfAlsRnacewiQU4Zs5lLP4iOsv3igmTE580nuhMCrhOHI7c/MJi8iaY/EVLCEMyyCkt2vWQrBGGaiV8zUuocE97RCI0d3UqCWBEwXfY1b18OtmtV+veT93wzSQN9aL/ycvxE9ulKb51bcuZShYCRy1fB0e1k+TDtY/P6XP4Lx2gTgh+Z/hbZYIDbH8eTIfZEP36DbSPq0zFyS/RlNlg9plKMxwa0Cx5yFaqfopbl5KMeKnjK1O5+BuRsOxlTtmjAuJPkXqQyf6W0WQzW4riZL9AEa4a8bD7NZVjlIB6BrSUq6izyRk0=
  - secure: seD0JOPAvKx+U+CAH6xUCUZDttJRItEJx8bAnXCbO2GHfH6ILPJ/a2TNt0QxrTRRVBr8HXOj8tlz9dAXpXF3v+THZSB2EyffGfcQI43dRWDAEkCEs7KgJxBIcXH5W85pFFjLdqZzbZD3TxxrUj/wkR8p5nT+vgOp3eD3UC42l1aTYxXzYZrJ23AG5wjF9f2z8OVeS5DN4/U5NEx8YriklFWiEvlF2hJyMmzbrKU9rbwsQx3GGAwvUVH3p/1XjWbhcpyoZ68gDo8SGYUsuwJuJ0rpkdg8idXmvQeq0g5X8FLeVmb5wlGgAnff10cE9IlkGLVESa3yVL3icwMAcF6VA3sxSBbGpAGM98qUqZKkBWta3PEuFKky1iZy4lEPJz+am1GIDw1GV4HFA19hg4i6uIpcV1BlhcGBzk0D1ye2G7Pob8HkSQrQ0BJQZQBsWbXtfiVE+Dqds8mzEzLwjkSYz3VB9ZNtSyQBxBwajiY+ixTQUiV3A/7dDPYmL7xVW2C6eD8XcsHr25cDtFsrsoDMyDCV5SsEfx6N3I4kQYYN6Rs5B3LTdoEOs1ab3R9DPNRguVo3Us5Ss2W6wrJNxm/5IR3nYoYp/CyO9QeeEKKvucvWova96e5omCj6t0GOPwXR5cZmoeEOOYYzgwlkC0Tor5GOkXo7Pa/SaCfg3pYNQ6E=
  - secure: mJ9ZhoyJwBruTvNH7ddwgfzi0lnrwNn59eFXf4Gq/fnDY2ek8nmR8rMQsBEijwqBVNy3JjyUyvJ1bPY0sWGUHsBEixLjBVmClSt9NmrUP7oTL1yNZ923u5M1F+uG8j8zLuSpP4piABZU5Pl7kdWHnSgXwmUIWV7a7akZNbiSZs7QCrAyhAra8GfDqXxs1nHgMj5HPL8msyA1mVElx18wkqkdSpeScq/Z0SxIrv41pe+CeYc88BCy7OvR8fJqJQBEsT+D1TOe0IGu8Su1uIqa4EXKyVBs7QIztdtQ/f7y/iFBg7k5xcxVDBP/0Iempt59ZerGkkQgehhxsrJt7HMp51LL2u0/0inbdxV7ZHYRCzty6ez2OyB6IOFpRq0E3feFRuxCUwvsPAyQmbNoUGDGDLfqpGTF2gV3aMfmcSyWPVB4u/00dz8W7kV/WoEGKkdnj5puLHuYK0mej8/CcSeFwecH7YFFdiMfPGFJ4OlFTRSCarzqg+Et9XYhyYbOXrGSl06LjGBi4+/+baEO9e7lOrImNxD1tbkv8n3NQErlHCHH1yoSWiMYzQw7Ixb0GJYx19Y3qKNltIMkLD1XZVP0OFlaZwqD5pLXLaT1j3jE4X37z/iKfbMOstAB71Rc6IPA4YMeDQTUJPcIHx5rPOECj1VMqLuOKtOA9NgxNbg38nc=
  - secure: 60e0cZMS3tlHZXGFJaLyS6jV90VdOkZzV/1+STrQpnmcuzXbI0R5OUKtdgOsecK3IZ1OQbIHsDSbS8oeUSBpsl0wlKiKMWcVUX7TUfZx7DyzYKQ8rtidfmO2VbcYWRWF58q6yQxJerqj+O3RYyucBnEGLWsaRFS4a8z/U/5R3unaK9NMEWItK284tIgw64ihr6eY63CRAVVHJ91dgsw1roGF7EC1ZbPfmjeEJViXi8rkJFfWW01ph0cV2EwyKl63A+xYTbloc6U7Jb/GEUotITd3oS9uxxYzUFjsLznPNJsFKs1wXZlZ3nyOpHxJZhTjnK0MR5ZwD6jokpGsyIttT9MkD64FjZcJiZHwMqNaiJYwfltKHH2Nmszlb6lF9eEU7yplEhmuQBGkYy8j4SQVY/I9qMGJfPZTVY4U02OWGffRGXvRgoxSuRBRdp/Yx8AIM/p+mwvn52TQkUxFMe/YfkSbwtpio9HlIFlBBkG0s1wviC2a37KMAIrEFzswgoBjUSQm3PYNcwe01JYLWEfmnnatJuRO8u9XqU3X+pd1lqdp+xyBsLnShB0Drx5D5XvJ37FbiSkTLFB+hVy1p1Boh2DMlQgIrOpaC5jp0PFLYGXAZYWZP9iBzwdU3gMPSB/tqNE8mH45D0ofhwZtHjAL/UVNuvMLnjd0/9XulKqUhkE=
  - secure: AgZhs8Djlu7tvTdA7/OLkANTTu1kUy22FNqUxSpQw1Fg2EQWPf8Z9etyES60vjOKwd1CCCCpybybKTFWvR82xGNwhXbBvMynofRwLn7VGLcW4pdkGjTkEcsJYK/ckSajhV8kEsyZqc21kvem93CXO1SDXywQZtodpa4DfLFEwA5CVHaBGmuBmvFkR9hQ9bEGS2P9p4ifvi/uJ/Qc9H7fKm5JKt631WGjmhpC8eSBEr2tkV+DkuPwnbU3U0Jf2NDaTu55lfBOy/KSVTAzoaWdWboVb7HmUm9pboQwNvymqCbA7JfbLCT2SK6Tq73TTkO4gmFFrBl1lcfoXcbeeJDYEfmLHFUc0Xt2Hsf2nOVjs48ADWmKjfDgz3rM2dsu7vC3JXOMFvzQsE0DLtWKpo4o4tk1Eu+6uLFD/F6u3ABk4z0w6V6AmHh6qJEEBKqj1Kxt4z9osQxSGSCTRnihP2r+a6llGwew7m3Bek+zhO4DIP56odB8JqzJOCat3TA1NTBWRp0B0oOnmeSyV39YwaQzo23oC+fmMs+YEABc41ScmXmj7m/CsyoW3GGrTSY8jiaUz6VbfKNUn+7TqYOoqaQtnHy10XCAF910TsgKfsG7Jxx9KRTI0T9i0yxrrXOavh4Miic2Fbz2PP8M8/0sXOZLwUBrfA/ZqhfwF+qSOlG6ptM=
  - secure: VZYCBJCqoS8V5Jp35JAM0Rroi200IDjY9/a5PHi7oJjfMPRxo+eq3alYWa9V2G2jRpBdyVOTCJJPXOezCjs6sClKa4zzTODIf6+qvvR04zuhjsg7a/gxeIi3LXA4w7+lNymRu0/wwu9ZE6KepPS0wyTlmsNdA2aHoBk6n6ftLMGWd7W8pUjIgeNSWod9xn0I2ycq6iM8E2El8Zh+eMa6b/n8J4PWJBtR6tATd9buIGnfyz2T4XnULrY3hGHC2a4uABOOLJ09hh0oo2ITvd5jbQg4xGcnAZF25usE5clSzsK4eBsBmLLN+J0iSUdJcScSG3pZcP6eJa7AA+4deTwNmrWLaZpEZ4E/f4uNoCd6MX+U2PSPitSfkOeEITh/zyDDjCvEwK6nPjzDRL5yFEhdybLJ50h6XJ3ghoBcmij+77xNrsg22+W89WwGtWMYkZxaHN6wWtkv/SZzCToRqc2SYSVk4+MB35xKZ65PSUcJs9n6zI1t7ikjIkLeGSNEX7q/HRNiazctxOla8Q22O0Kig7pU2AF61y1f6Bl+Lmfr1Z/Uk9wE/t7T8YTFVHpnVeqeVvNZZcNZHCS1wqXDWMheQNKzEfirAzVjQ54Y+/atxADC6XbXYP++x06/GTFfLgiJjqU36TM7er/zhf/PhOh01KPao6t6BnOhC1oUk+F4Qrw=
  - secure: tCRv6DNadmnjxo2deL1E+chS1cuG7fcrbIhxDpupS1EaiV+zV7jI+XybJ3H+z8GGvzrhtiYN810M60t8XX0hOazhO6Im92St89B1dINMh4msl0015CEZZ6fr+t6QTHGhGDFEMvhmzaWIQalO5UZKYICNuufSvca0RWinXKyn/U6HmziVZKySmBvCCnIjO/0zeXSB948KGkRcPRXibM2MXVre68a60XywRbXnfnwQLSKFktt/Me30At7SNrDanQMh5mFDKNrObIu3n2OAP8UGwTBo4vFz8fqE6DLTnjyjhNMic38ESSzuM4UkK8CzGh7FNGNXc5VZ3nv4ULNM+HsAe9z8HpdJYGnfiveb8TjQ7kQrcbAmNprkLchBC6QDpAYeptKfS202KdFPX3lZt+Z85+7tK8I7pQynenSnuyGtDNqvXkC0GEuwYSEyxumx5MS+iee0ziuPXIej0M8CzfQUFPi9sweS8Z5Jdf0qae9BOhiIeWP2zBdBBAM8u08l379oMjfEpeFJNQaSn3dim3PkQqKgOS/iEOvS61CDtFSQe3K2F4yakt4mq6JA9BttWPQT6f/xIS71s7SXUvP3qYcfwR+qwbX2xBnt0uHMPOm3lNcMtaCk3FxuEhVWN9FtYDX4S5TRracquRvKJsFaJOE5tII1gTqVcs0xWOM/h/zeLXQ=
  - secure: 5KK2wMfDPeRw1bChFcNfL7ZSxiKY8CFPsfq0oMyZVqS6GX4GEC8OxEpPyOmGVh0El+7zoBejfLBfg/396AGDGbmKkPvdFFZ62Py/dcKHtlPs/WX+b3n0ag1/GsiBcRCe3ODJhWpgnG8b8G+kVMu094+MmZTMdlURV2xBs83bdji8sXDfx66tNS2GzrBk0gC/BkWIxr9ALR6l9DThEa1dIhTFHZXkjsc3j3bxa1ln9v7fyGbzwSGDJtQy/YqOFWVyNIPYi71YA07yV9M/HtaK2aw7XfpYUoe5lEhrcvrWiyTmbClBvdkbLVuS948wCr+GGeABYvbxIBtIYFYQv6VexMoeUInHmSYykwvIYhF43Ce0uT01PmRH6g4ObvXFAK+zPJYTln2LTOJ67iA42O0YzMJ3h7GWeyligyXGBCsED8AOaH2W42LKNAWjk1ZNdUape+eXa6zFs8uhL/Cd7kTAHakWoXYdrhxTRfkI2GNHbXmm9doJ9doI8yjVElT4oxduUE36IuiQWHvrIDvwJWGnYSj+vyK/k70Kqle5It82/bpjl/agqaz10zCItoBSEYIs6MgcTYfr/DJWbv8q3vleCn7qyceA3Amwlqb3TS2kHToJhl5XeAN5evPktVaNR9znri+h/LinakuKEP3Olp0/imbSb/V9G+IKFwmvY8ZOXN0=
  - secure: mb1robta/WuEhpxu+O+nXMqtItlW0DzIxdgmtq8JLzCCtURtxyZYlXyd2Lz2vJTedX8+BSPv+GyD+Au1J+oJT6IoVf7bMbCmXhVtRPP2X9v0v3l5dSeKWoihDvCY56vdnwt8d+Ys/3o3Cjg8NFey2Iad1Wb/tPMaySU0XdcRIQ/FguAok0c9n9Ns7N9pRvxY7sSzdszQ8YrU+KVOKx9dIFDYntxjWcWZSdbujCajJBMKwK36zABpZavDfqBL2zKFZp9ElPC44pE/TeHF2tHeuwYoxuJQN5PAT7a1NN2vvLdjsRumLEaLNtVamjCRsVxkBteZ0JQPESTn+cBkenyBdNy7JI5qFD+ztHPTtjtBlGPpaYswUPLgkPe2J5S50yWXQhyt98s4yVgUlD7fOXu/6Z9aeutkebnj1KqrmAIlw99d+BqMja7a1RtBPBgAaB6WXZVSSmun3syk4s+0Fh4KEL/Ma577Jhrsqw+vxrfgdAjh6T315gkhK8qzshEvTMgzvU4YG390kuJRduKMZKTSD29FhVTtL3+k+C51BWyHezAFby5MD6I47paDpGytWz7TxajwYcWeCVlMovvFlJQqs6186xvT4BIHOuZJ2Ezz80e6lvWgcVRno83uq/9WSvIWfxMKX9e4gey6wYGqfo85WltZ8M5pkLhA97qwgEGeccA=
  - secure: sTF+Zz5jioRrfBvS39AVdDnrSM8zFQxdshfnuem73Clnr39c/1FtNaj0udPEfZCb6Q0I4EjyiBWFP66Tba/iwyAiYC4smXhyhDFAkZkPVtvsVgnjdSWC5mYl9TwqgztnGuzhDnjtZBWa00ue7CfHv5glKhuBW0z9Q+m9aDWg1LZTYS1GFWiBdkAdH4nm1u0HrxLRGRTIRXlW2aImA1cfVQURm2nOkoiLd3/HlC/Lja9JT39P4/cO7MLPJ5f52qWySFqfInwrbeQVXBHRcigmuJ6p3BL09IVfLPN9wokGKT6xsASFELxDTHExL2qmKUrjhadHNq7H8adEUoAmC1HlOHreuxz/Bw9QG7+S/9zOMvGMq5KxhuQW/F7rAXSbLknaHCx0E0Yq5duzw728v2hlycrATMu0i+cONIwxNd+9FYkQTCiGsfO6vd640LcCUVeN+IguSCCEzSUFhCFj9kMDCCySnjRkpLMncc6MF9Fta7AYCBf1iddXaiO18XpwiayT6NoUArQjdEdKofr6WietdqQir5vOg/0FSDJeGMN6p22ciAroRQikbPjDS2zvhGv0C7dcjIgTcHUYFLje0dcYgFSwDLsxBBHjBzTbFPmN2EEabek/kAJUP5u5AINk0A36bF8u0/DvPiPzKF0c6J44gXz204tc43uHwK7MmQvhlNg=
  - secure: WbTM2/y7NybBhlqqi2nTecLgWyaNkcY3/wfC2icEivEyXVhtJTrtigLMoxV7UyGmcfZm28h2t6aB5XZJAHZ0+pyEmO9ltLm7nraUWu+xexL1lM6HghB4rPlkpyv+lNHblSMQhMOKDE59GPzBYbYCGkuSzYssLuoSS6RRVVuXawPARx9GFqx3Z3yw2TX/aMlcyDSL9zsf7ZqQi9y4FN2b/0R/YTvHhC+ZzmGJBiS2TX0CiwIxirgUpbAiQQZj2TCJcHA8gSF7aYLfOkOv1oHsbPRp8u124GM6SZSe5lwFCX0OeCgGrA1dOhB9auDl37J7PIj613/Q7d4MrSoIh5AdBUZVeM5wunzUF1Vg6og94LTN9tTnsb3gBx6elFHEp52jCp0XReUZsKiVxTYOOQrumEP+3wFv+ypykUr3ajzzgD2JTkD9rfRik22OzCHD+OFr2SdObl/06cXheKyfePG0dy0B6v5QmgtKUGfTz2cCeH+JespGF8WbzDNSC08iNQ8w8DiilfgIeJ15MW8O0rmBUamhg3X5f/ltjVi1QRaPueZnlcWi5GHf2V6jE6A9pp0GbHrq24A6u9cpDvhqolI603RZKqpwib1rRt7RykT2fju7TOclICNK0xq8xGY+K7TOcV3HG98oBBbZrBJVPdeiwiFeHpF+WwpMZosRfpi9teQ=
  - secure: EI3Ec83axmywbYqEoexipKAd61x4xnFs5R1mdJEHO6bbQ85i5ce5Onw13AN9O6Jh+Fg0RtqRkXGbHTh4n1r8heVCeylK+BuZ7/qjHWs3JW6zh40ihskHDXHB30CLqWSTtHUxc4Lhqjqj6aPQ1kGB9/aGD/xrxm0Bh8v26KWuDV/MYvFXO8ocmJUzMe8BBntNpbimi0wvuy2eKGvtGI0mQr7YhVSpPWd6Qw32Nvl67brSNImd+nkCVJSv1KwvoGTroRESvuXVvViUAc5rP3TlK2pGSYRl4+8j0TwajZPFbt2u/OOTzbXqNFsiFhafsaN9LRw7Hfw/egahYyjTS6IVM1XImLczqaeweYt1f0SrTtKbWNTbinBBxD/s6ovHdh5T/mzJ95ZikIKHaLdpxAHn6O/QaZtCeryHRluyZ6cJhKcXhM7Gyzwy3437V3dCDaHjDvDOhLS5/JH7+IdZvpZLUFLmEEtu01RpEECj0OCOz3V3nkxt8OPJiPGebY5yHvixUc3XRh+++hoBYLWNm9y7BdckE4x1/kQaw22eaI0cPMQX5gVV1rb3JaARU0ajcrvYCauJL4ZZrzbpbv+0n4+Pe4syu2/RO5cESgyC92/xe1Bd5LKfX5z5f2vkLMhRqtI0ZrLOFYYtH/Nq6uHJiOU6sQvtGSE0ousSLdA/pfDGhe0=
  - secure: EC3UseypL/84NrwOJYynmVoYS+YoD4x4upg3g7GTGstITvwFICDZfijZZhFoEaKBkgU2yrPqgI8NygbATbw+z4o034kTvI9+M+8IWTPEIhdaCN+8d9QV4dn5tWhwQQiYM3MS+AYIeRnjJa/6R1GgbALTObRpFD58d29DAiuz8t7mKiAMt/KNFf6lyMR1OSJPRpQLBZr2l68ub2aOOGF63GAilzkFn1ILO0nuhVzkyWiOsRs9btQ7JkIZX0MjToWfq1c5qhBD+5olW26oKfIxu9XNxwIk1Qzn3y/j+02RwiEWW0S9stirPQhiGOzCI2uD4lkg2ubZzR7CmqXb832CmRhd0U/+mrbBiDZQFwQvpSkNwythhgV18IB4o5CdZLfH8sDUzjNOU/T9xQKPNBVl9aCMgJ/AMk+4oyjLLa4BVEMs4krRhzyYAmsjodPfgU808txNurSjbJVs8NNAcVcfyWeLaOimsh7adKfOgsgJU5XDtlntbtjcOKlWho4HmMaW1lvLq2hlD7lvUAuzSPph9R1jOyMU4uuMFofEq317suFCggfTKdd20YqrqANUmdYQGJ16VI4e4KwY7iVXKVGu4oEdIGtUm1R8ZftDkQR+nsixjb3dhpRnKQ8csgt3JFOUi4pJfH4L+7EP8Mv/2AymBrEXWfABGW+aBAY8YE3iL1M=
